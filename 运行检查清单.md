# ✅ 小程序运行检查清单

使用此清单来确保小程序可以正常运行。

## 🔧 配置检查

### 1. 基础配置

- [ ] **云开发环境ID已配置**
  - 打开 `app.js`
  - 确认第9行的 `env` 已替换为你的环境ID
  - 格式：`env: 'your-env-id'` 应改为类似 `env: 'cloud1-xxx'`

- [ ] **小程序 AppID 已配置**
  - 打开 `project.config.json`
  - 确认第24行的 `appid` 已替换为你的 AppID
  - 格式：`"appid": "your-appid"` 应改为你的真实 AppID

### 2. 数据库配置

- [ ] **数据库集合已创建**
  - 在微信开发者工具的"云开发" -> "数据库"中检查
  - 确认以下三个集合存在：
    - ✅ `tables`
    - ✅ `menus`
    - ✅ `orders`

- [ ] **集合权限已设置**
  - 每个集合的权限应为："仅创建者可读写，所有人可读"
  - 或者："所有用户可读，仅创建者可写"

### 3. 云函数配置

- [ ] **所有云函数已部署**
  - 在"云开发" -> "云函数"中检查
  - 确认以下8个云函数都存在且状态为"正常"：
    - ✅ createTable
    - ✅ addDish
    - ✅ orderDish
    - ✅ confirmMenu
    - ✅ deleteDish
    - ✅ updateDish
    - ✅ deleteOrder
    - ✅ updateOrder

### 4. 图片资源（可选）

- [ ] **TabBar图标已准备**（如果没有可暂时跳过）
  - 在 `images` 目录下检查是否有：
    - home.png / home-active.png
    - history.png / history-active.png
  - 如果没有，可以暂时移除 `app.json` 中的 `tabBar` 配置

## 🚀 编译检查

- [ ] **编译无错误**
  - 点击"编译"按钮
  - 查看控制台是否有红色错误信息
  - 如果有错误，需要先解决

- [ ] **首页可以正常打开**
  - 编译后应该能看到首页
  - 显示"创建饭桌"和"进入饭桌"两个按钮

## 🧪 功能测试

### 基础功能

- [ ] **可以创建饭桌**
  1. 点击"创建饭桌"
  2. 填写信息
  3. 点击"创建饭桌"按钮
  4. 应该跳转到菜单管理页面

- [ ] **可以添加菜品**
  1. 在菜单管理页面点击"添加菜品"
  2. 填写菜品信息
  3. 点击"保存"
  4. 应该能看到新添加的菜品

- [ ] **可以点菜**
  1. 通过链接或输入饭桌ID进入饭桌
  2. 输入昵称
  3. 应该能看到菜单列表
  4. 点击"+"按钮
  5. 应该能看到数量增加

### 高级功能

- [ ] **可以查看点菜情况**（主人端）
  - 在菜单管理页面点击"查看点菜情况"
  - 应该能看到点菜记录

- [ ] **可以确认菜单**（主人端）
  - 在查看点菜页面点击"确认菜单"
  - 应该能跳转到确认菜单页面

## ⚠️ 常见问题检查

如果遇到问题，检查以下项：

- [ ] **云函数调用失败**
  - 检查云函数是否已部署
  - 检查函数名称是否正确（大小写敏感）
  - 查看云函数日志排查错误

- [ ] **数据库查询失败**
  - 检查集合是否已创建
  - 检查权限设置
  - 在数据库控制台手动添加测试数据

- [ ] **页面无法打开**
  - 检查 `app.json` 中的页面路径
  - 检查页面文件是否存在
  - 查看控制台错误信息

- [ ] **数据不显示**
  - 检查数据库权限
  - 检查查询条件
  - 查看控制台错误信息

## 📱 真机测试

- [ ] **真机预览正常**
  - 点击"预览"按钮
  - 用微信扫码
  - 在手机上测试功能

## ✨ 完成标志

如果以下所有项都完成，说明小程序已成功运行：

✅ 配置完成
✅ 编译无错误
✅ 可以创建饭桌
✅ 可以添加菜品
✅ 可以点菜
✅ 功能基本正常

**恭喜！小程序已经可以正常运行了！🎉**


