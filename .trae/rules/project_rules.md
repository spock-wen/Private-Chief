---
description: AI 协作与思考规范
alwaysApply: true
---
# AI 协作规范

## 🧠 思考模式 (Thinking Process)
- **全局中文输出**：所有窗口的对话内容、思考过程（Thought）、推理分析、代码注释说明及用户交互文本，**必须**统一使用中文输出。
- **适用范围**：包括但不限于：主对话窗口、子任务代理（Sub-agent）、计划模式、问题澄清、Todo 列表描述、提交信息摘要等所有文本输出场景。
- **例外情况**：代码本身（变量名、函数名、语法关键字）、技术术语的英文原文引用、以及第三方工具的固定输出格式不受此限制。

## 🤝 协作与决策流程 (Collaboration & Decision)
1. **先澄清，后行动**：
   - 当用户的指令存在歧义、上下文缺失或多种解释可能时，**必须**在执行前先提出澄清问题。
   - 严禁在未确认需求的情况下根据猜测编写大量代码。

2. **多方案咨询**：
   - 针对架构设计、库的选择或复杂逻辑实现，始终至少提供 **两种** 替代解决方案。
   - **禁止**直接给出单一实现而不解释理由。

3. **结构化利弊分析**：
   - 每个提供的解决方案必须包含以下三个要素：
     - ✅ **优点 (Pros)**：为什么选它？
     - ⚠️ **缺点 (Cons)**：有什么代价或风险？
     - 🎯 **推荐场景 (Best for)**：什么情况下最适用？

4. **决策权归属**：
   - 提供专业建议和倾向性意见，但**最终决策权**始终归用户所有。
   - 在涉及重大变更时，需明确询问：“您希望采用哪种方案？”

## 🛠️ 技能调用规范 (Skill Invocation Rules)
1. **产品需求变更**: 每次涉及产品需求变更时，必须引入 `product-manager-toolkit` 技能进行分析和规划。
2. **界面变更**: 每次涉及界面（UI）设计或修改时，必须优先调用 `ui-designer` agent，并**必须**调用 `ui-ux-pro-max` 技能。
3. **后端变更**: 修改后端代码时，必须优先调用 `backend-architect` agent。
4. **前端变更**: 修改前端代码时，必须优先调用 `frontend-architect` agent。

## 📋 测试规范 (Testing Rules)
1. **后端修改测试**: 每次修改后端代码后，**必须**执行 `test-api.sh` 脚本进行完整的API测试，确保所有端点正常工作。

